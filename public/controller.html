<!DOCTYPE html>
<html lang="eng">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Vitronics Technologies">
    <meta name="keywords" content="Vitronics, VitronicsTech, Automation, Engineering">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vitronics | Technologies-plcs</title>
    <link rel="stylesheet" href="css/categories.css">
    </head>
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
 <!-- Humberger Begin -->
 <div class="humberger__menu__overlay"></div>
 <div class="humberger__menu__wrapper">
     <div class="humberger__menu__logo">
         <a href="#"><img src="img/Vitronicstech_logo5.png" alt="company logo"></a>
     </div>
     <div class="humberger__menu__cart">
        <ul>
            <li><a href=""><i class="fa fa-heart"></i> <span class="wishlist-count">0</span></a></li>
            <li><a href="shopping-cart.html"><i class="fa fa-shopping-cart"></i> <span class="cart-count">0</span></a></li>
            
        </ul>
        
             <!-- <div class="">Total: <span id="total-price">ksh 0.00</span></div> -->
         </ul>
     </div>
     <div class="humberger__menu__widget">
         <div class="header__top__right__auth">
         <a href="login.html"><i class="fa fa-user"></i> Login</a>
         </div>
     </div>
     <nav class="humberger__menu__nav mobile-menu">
         <ul>
             <li class="act'ive"><a href="./index.html">Home</a></li>
             <li><a href="./shop-grid.html">Shop</a></li>
             <li><a href="#">Pages</a>
                 <ul class="header__menu__dropdown">
                     <li><a href="shop-details.html">Shop Details</a></li>
                     <li><a href="shopping-cart.html">Shoping Cart</a></li>
                     
                 </ul>
             </li>
            
             <li><a href="./contact.html">Contact</a></li>
         </ul>
     </nav>
     <div id="mobile-menu-wrap"></div>
     <div class="header__top__right__social">
         <a href="#"><i class="fa fa-facebook"></i></a>
         <a href="#"><i class="fa fa-twitter"></i></a>
         <a href="#"><i class="fa fa-linkedin"></i></a>
         <a href="#"><i class="fa fa-pinterest-p"></i></a>
     </div>
     <div class="humberger__menu__contact">
         <ul>
             <li><i class="fa fa-envelope"></i> vitronicstech@gmai.com.com</li>
            
         </ul>
     </div>
 </div>
 <!-- Humberger End -->
    <!-- Header Section Begin -->
 <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="header__top__left">
                            <ul>
                                 <a href="Vitronicstech@gmail.com"><li><i class="fa fa-envelope"></i> Vitronicstech@gmail.com</li>
                               
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="header__top__right">
                            <div class="header__top__right__social">
                                <a href="#"><i class="fa fa-facebook"></i></a>
                                <a href="#"><i class="fa fa-whatsapp"></i></a>
                                <a href="#"><i class="fa fa-linkedin"></i></a>
                               
                            </div>
                           
                            <div class="header__top__right__auth">
                                <a href="login.html"><i class="fa fa-user"></i> Login</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="header__logo">
                        <a href="./index.html"><img src="img/Vitronicstech_logo5.PNG" alt="company logo"></a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <nav class="header__menu">
                        <ul>
                            <li class="active"><a href="./index.html">Home</a></li>
                            <li><a href="./shop-grid.html">Shop</a></li>
                            <li><a href="#">Pages</a>
                                <ul class="header__menu__dropdown">
                                    <li><a href="shop-details.html">Shop Details</a></li>
                                    <li><a href="shopping-cart.html">Shopping Cart</a></li>
                                    <li><a href="checkout.html">Check Out</a></li>
                                </ul>
                            </li>
                           
                            <li><a href="./contact.html">Contact</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3">
                    <div class="header__cart">
                        <ul>
                            <li><a href=""><i class="fa fa-heart"></i> <span class="wishlist-count">0</span></a></li>
                            <li><a href="shopping-cart.html"><i class="fa fa-shopping-cart"></i> <span class="cart-count">0</span></a></li>
                            
                        </ul>
                        <!-- <div class="header__cart__price">Total: <span id="total-price">ksh 0.00</span></div> -->
                        <!-- <button id="clear-cart" >Clear Cart</button> -->
                    </div>
                </div>
            </div>
            <div class="humberger__open">
                <i class="fa fa-bars"></i>
            </div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Hero Section Begin -->
    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="hero__categories">
                        <div class="hero__categories__all">
                            <i class="fa fa-bars"></i>
                            <span>All Categories</span>
                        </div>
                        <ul>
                            <li><a href="plc.html" class="plc">PLCs</a></li>
                            <li><a href="cables.html">Electrical Cables</a></li>
                            <li><a href="drives.html">Drives and VFDs</a></li>
                            <li><a href="display.html">HMI Displays</a></li>
                            <li><a href="microcontroller.html">Arduino & Microcontrollers</a></li>
                            <li><a href="enclosure.html">Enclosures,Subpanels & motor Controls</a></li>
                            <li><a href="motors.html">Motors</a></li>
                            <li><a href="pneumatic.html">Pneumatic components</a></li>
                            <li><a href="sensor.html">Sensors and Encoders</a></li>
                            <li><a href="switch.html">Push button/switches and Indicators</a></li>
                            <li><a href="protection.html">Circuit protections</a></li>
                            <li><a href="controller.html">process Automation controllers</a></li>
                            <li><a href="relay.html">Relays/Timers</a></li>
                            <!-- <li><a href="starter.html">motor Controls</a></li> -->
                          
                        </ul>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="hero__search">
                        <div class="hero__search__form">
                            <form action="#">
                                <!--<div class="hero__search__categories">
                                    All Categories
                                    <span class="arrow_carrot-down"></span>
                                </div>-->
                                <input type="text" placeholder="Search store">
                                <button type="submit" class="site-btn">SEARCH</button>
                            </form>
                        </div>
                        <div class="hero__search__phone">
                            <div class="hero__search__phone__icon">
                                <i class="fa fa-phone"></i>
                            </div>
                            <div class="hero__search__phone__text">
                                <h5>+254 729 704 171</h5>
                                <span>support 24/7 </span>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="hero__item set-bg" data-setbg="img/hero/banner.png">
                        <div class="hero__text">
                            <span>Siemens Brands</span>-->
                           <!-- <h2> <br></h2>
                           <br>
                           <br>
                           <br>
                           <br>
                           <br>

                            <p></p>
                            <a href="shop-grid.html" class="primary-btn">SHOP NOW</a>
                        </div>
                    </div> 
            </div>
        </div>--> 
   
    <!-- Hero Section End -->
 <h2> Process Automation Controllers</h2>

 <a class="back-btn" href="index.html">‚Üê HOME</a>
  
  <div id="productsContainer">
</div>
</div>
</div>
</section>
 <script>
  async function loadProducts() {
    try {
      const response = await fetch('/api/upload/plc');
      const products = await response.json();
      const container = document.getElementById('productsContainer');
      container.innerHTML = '';

      products.forEach(product => {
        const productCard = `
          <div class="featured__item"
               data-id="${product.id}"
               data-name="${product.name}"
               data-price="${product.price}">
            <div class="featured__item__pic set-bg"
                 style=" background-image: url('${product.productImage}') ">
              <ul class="featured__item__pic__hover">
                <li><a href="#"><i class="fa fa-heart"></i></a></li>
                <li>
                  <a href="#"
                     class="add-to-cart"
                     data-id="${product.id}"
                     data-name="${product.name}"
                     data-price="${product.price}">
                    <i class="fa fa-shopping-cart"></i>
                  </a>
                </li>
              </ul>
            </div>
            <div class="product-details">
              <h5>${product.name}</h5>
              <p class="price-tag">KSH ${product.price}</p>
              <p class="qty">In Stock: ${product.quantity}</p>
            </div>
          </div>
        `;
        container.insertAdjacentHTML('beforeend', productCard);
      });

    } catch (error) {
      console.error('Error loading products:', error);
    }
  }

  document.addEventListener('click', async function (e) {
    const target = e.target.closest('.add-to-cart');
    if (target) {
      e.preventDefault();
      const product_id = target.getAttribute('data-id');
      const name       = target.getAttribute('data-name');
      const price      = parseFloat(target.getAttribute('data-price'));

      try {
        const res = await fetch('/api/cart/add', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ product_id, name, price })
        });

        const data = await res.json();
        if (res.ok) {
          alert('Item has been added!');
          await updateCartUI?.();
          await renderCartTable?.();
          await renderCheckoutSummary?.();
        } else {
          alert(data.error || 'Failed to add to cart.');
        }
      } catch (err) {
        console.error('Add to cart failed:', err);
        alert('Network error.');
      }
    }
  });

  window.addEventListener('DOMContentLoaded', loadProducts);
</script>


     <!-- Js Plugins -->
     <script src="js/jquery-3.3.1.min.js"></script>
     <script src="js/bootstrap.min.js"></script>
     <script src="js/jquery.nice-select.min.js"></script>
     <script src="js/jquery-ui.min.js"></script>
     <script src="js/jquery.slicknav.js"></script>
     <script src="js/mixitup.min.js"></script>
     <script src="js/owl.carousel.min.js"></script>
     <script src="js/main.js"></script>
     <script src="js/script.js"></script>
     <!-- <script src="script.js"></script> -->
     <script src="js/login.js"></script>
     <script src="js/register.js"></script>
 
 
</body>
</html>
